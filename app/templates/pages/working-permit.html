{% extends 'layouts/base.html' %} {% block title %}
<title>{{ title }}</title>
{% endblock %} {% block content %}
<section id="wp" class="wp text-center">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <div class="card">
          <div class="mb-3">
            <h1>WORKING PERMIT</h1>
            <h3>(IZIN KERJA)</h3>
          </div>
          <form action="" method="post">
            <div class="card border mb-3">
              <h6 class="text-start mb-3">INFORMASI PEKERJAAN</h6>
              <div class="input-group mb-3">
                <span class="input-group-text" id="inputGroup-sizing-default">Tanggal Pengajuan</span>
                <input type="date" class="form-control" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-default" name="tanggal" />
              </div>
              <div class="input-group mb-3">
                <span class="input-group-text" id="inputGroup-sizing-default">Jenis Pekerjaan</span>
                <input type="text" class="form-control" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-default" name="jenis_pekerjaan" required />
              </div>
              <div class="input-group mb-3">
                <span class="input-group-text" id="inputGroup-sizing-default">Detail Pekerjaan</span>
                <input type="text" class="form-control" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-default" name="detail_pekerjaan" />
              </div>
              <div class="input-group mb-3">
                <span class="input-group-text" id="inputGroup-sizing-default">Lokasi Pekerjaan</span>
                <input type="text" class="form-control" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-default" name="lokasi" />
              </div>
              <div class="input-group mb-3">
                <span class="input-group-text">Pengawas Pekerjaan</span>
                <input type="text" aria-label="First name" class="form-control" placeholder="Nama Pengawas" name="nama_pengawas_pekerjaan" />
                <input type="text" aria-label="Last name" class="form-control" placeholder="Nomor Telepon" name="nomor_pengawas_pekerjaan" />
              </div>
              <div class="input-group">
                <span class="input-group-text">Pengawas K3</span>
                <input type="text" aria-label="First name" class="form-control" placeholder="Nama Pengawas" value="Alan Nuari" disabled />
                <input type="text" aria-label="Last name" class="form-control" placeholder="Nomor Telepon" value="0853 4002 9197" disabled />
              </div>
            </div>
            <div class="card border mb-3">
              <h6 class="text-start mb-3">DURASI PEKERJAAN</h6>
              <div class="input-group mb-3">
                <span class="input-group-text">Tanggal Mulai & Selesai</span>
                <input type="date" aria-label="First name" class="form-control" name="tanggal_mulai" />
                <input type="date" aria-label="Last name" class="form-control" name="tanggal_selesai" />
              </div>
              <div class="input-group">
                <span class="input-group-text">Jam Mulai & Selesai</span>
                <input type="time" aria-label="First name" class="form-control" name="jam_mulai" />
                <input type="time" aria-label="Last name" class="form-control" name="jam_selesai" />
              </div>
            </div>
            <div class="card border mb-3">
              <h6 class="text-start mb-3">KLASIFIKASI PEKERJAAN</h6>
              <div class="row text-start">
                <div class="col-4">
                  <div class="form-check mb-3">
                    <input class="form-check-input" type="checkbox" value="Kelistrikan" id="flexCheckDefault" name="klasifikasi" />
                    <label class="form-check-label" for="flexCheckDefault"> Kelistrikan </label>
                  </div>
                  <div class="form-check mb-3">
                    <input class="form-check-input" type="checkbox" value="Instrumentasi" id="flexCheckDefault" name="klasifikasi" />
                    <label class="form-check-label" for="flexCheckDefault"> Instrumentasi </label>
                  </div>
                  <div class="form-check mb-3">
                    <input class="form-check-input" type="checkbox" value="Pipanisasi" id="flexCheckDefault" name="klasifikasi" />
                    <label class="form-check-label" for="flexCheckDefault"> Pipanisasi </label>
                  </div>
                  <div class="form-check mb-3">
                    <input class="form-check-input" type="checkbox" value="Pengelasan" id="flexCheckDefault" name="klasifikasi" />
                    <label class="form-check-label" for="flexCheckDefault"> Pengelasan </label>
                  </div>
                  <div class="form-check mb-3">
                    <input class="form-check-input" type="checkbox" value="Konstruksi" id="flexCheckDefault" name="klasifikasi" />
                    <label class="form-check-label" for="flexCheckDefault"> Konstruksi </label>
                  </div>
                  <div class="form-check">
                    <input class="form-check-input other-klasifikasi" type="checkbox" id="flexCheckDefault" name="klasifikasi" value="" onclick="klikKlasifikasi()" />
                    <label class="form-check-label label-klasifikasi" for="flexCheckDefault"> Lain-lain </label>
                    <div class="klasifikasi-in"></div>
                  </div>
                </div>
                <div class="col-4">
                  <div class="form-check mb-3">
                    <input class="form-check-input" type="checkbox" value="Pengecetan" id="flexCheckDefault" name="klasifikasi" />
                    <label class="form-check-label" for="flexCheckDefault"> Pengecetan </label>
                  </div>
                  <div class="form-check mb-3">
                    <input class="form-check-input" type="checkbox" value="Isolasi" id="flexCheckDefault" name="klasifikasi" />
                    <label class="form-check-label" for="flexCheckDefault"> Isolasi </label>
                  </div>
                  <div class="form-check mb-3">
                    <input class="form-check-input" type="checkbox" value="Penyetelan" id="flexCheckDefault" name="klasifikasi" />
                    <label class="form-check-label" for="flexCheckDefault"> Penyetelan </label>
                  </div>
                  <div class="form-check mb-3">
                    <input class="form-check-input" type="checkbox" value="Perakitan" id="flexCheckDefault" name="klasifikasi" />
                    <label class="form-check-label" for="flexCheckDefault"> Perakitan </label>
                  </div>
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="Pekerjaan PVC" id="flexCheckDefault" name="klasifikasi" />
                    <label class="form-check-label" for="flexCheckDefault"> Pekerjaan PVC </label>
                  </div>
                </div>
                <div class="col-4">
                  <div class="form-check mb-3">
                    <input class="form-check-input" type="checkbox" value="Pemeriksaan / Inspeksi" id="flexCheckDefault" name="klasifikasi" />
                    <label class="form-check-label" for="flexCheckDefault"> Pemeriksaan / Inspeksi </label>
                  </div>
                  <div class="form-check mb-3">
                    <input class="form-check-input" type="checkbox" value="Pekerjaan di Tempat Tertutup" id="flexCheckDefault" name="klasifikasi" />
                    <label class="form-check-label" for="flexCheckDefault"> Pekerjaan di Tempat Tertutup </label>
                  </div>
                  <div class="form-check mb-3">
                    <input class="form-check-input" type="checkbox" value="Pemasangan" id="flexCheckDefault" name="klasifikasi" />
                    <label class="form-check-label" for="flexCheckDefault"> Pemasangan </label>
                  </div>
                  <div class="form-check mb-3">
                    <input class="form-check-input" type="checkbox" value="Penggalian" id="flexCheckDefault" name="klasifikasi" />
                    <label class="form-check-label" for="flexCheckDefault"> Penggalian </label>
                  </div>
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="Pabrikasi" id="flexCheckDefault" name="klasifikasi" />
                    <label class="form-check-label" for="flexCheckDefault"> Pabrikasi </label>
                  </div>
                </div>
              </div>
            </div>
            <div class="card border mb-3">
              <h6 class="text-start mb-3">PROSEDUR PEKERJAAN YANG TELAH DIJELASKAN KEPADA PEKERJA</h6>
              <div class="row text-start">
                <div class="col-4">
                  <div class="form-check mb-3">
                    <input class="form-check-input" type="checkbox" value="Ledakan" id="flexCheckDefault" name="prosedur" />
                    <label class="form-check-label" for="flexCheckDefault"> Ledakan </label>
                  </div>
                  <div class="form-check mb-3">
                    <input class="form-check-input" type="checkbox" value="Kebakaran" id="flexCheckDefault" name="prosedur" />
                    <label class="form-check-label" for="flexCheckDefault"> Kebakaran </label>
                  </div>
                  <div class="form-check mb-3">
                    <input class="form-check-input" type="checkbox" value="Radioaktif" id="flexCheckDefault" name="prosedur" />
                    <label class="form-check-label" for="flexCheckDefault"> Radioaktif </label>
                  </div>
                  <div class="form-check mb-3">
                    <input class="form-check-input" type="checkbox" value="H2S" id="flexCheckDefault" name="prosedur" />
                    <label class="form-check-label" for="flexCheckDefault"> H2S </label>
                  </div>
                </div>
                <div class="col-4">
                  <div class="form-check mb-3">
                    <input class="form-check-input" type="checkbox" value="Listrik" id="flexCheckDefault" name="prosedur" />
                    <label class="form-check-label" for="flexCheckDefault"> Listrik </label>
                  </div>
                  <div class="form-check mb-3">
                    <input class="form-check-input" type="checkbox" value="Mekanik" id="flexCheckDefault" name="prosedur" />
                    <label class="form-check-label" for="flexCheckDefault"> Mekanik </label>
                  </div>
                  <div class="form-check mb-3">
                    <input class="form-check-input" type="checkbox" value="Ketinggian" id="flexCheckDefault" name="prosedur" />
                    <label class="form-check-label" for="flexCheckDefault"> Ketinggian </label>
                  </div>
                  <div class="form-check">
                    <input class="form-check-input other-prosedur" type="checkbox" id="flexCheckDefault" name="prosedur" value="" onclick="klikProsedur()" />
                    <label class="form-check-label label-prosedur" for="flexCheckDefault"> Lain-lain </label>
                    <div class="prosedur-in"></div>
                  </div>
                </div>
                <div class="col-4">
                  <div class="form-check mb-3">
                    <input class="form-check-input" type="checkbox" value="Kebisingan" id="flexCheckDefault" name="prosedur" />
                    <label class="form-check-label" for="flexCheckDefault"> Kebisingan </label>
                  </div>
                  <div class="form-check mb-3">
                    <input class="form-check-input" type="checkbox" value="Panas" id="flexCheckDefault" name="prosedur" />
                    <label class="form-check-label" for="flexCheckDefault"> Panas </label>
                  </div>
                  <div class="form-check mb-3">
                    <input class="form-check-input" type="checkbox" value="Tekanan" id="flexCheckDefault" name="prosedur" />
                    <label class="form-check-label" for="flexCheckDefault"> Tekanan </label>
                  </div>
                </div>
              </div>
            </div>
            <div class="card border mb-4">
              <h6 class="text-start mb-3">LAMPIRAN IZIN KERJA</h6>
              <div class="row text-start">
                <div class="col-6">
                  <div class="form-check mb-3">
                    <input class="form-check-input hirarc-check" type="checkbox" value="Identifikasi Bahaya, Penilaian dan Pengendalian Resiko (HIRARC)" id="flexCheckDefault" data-bs-toggle="modal" data-bs-target="#exampleModal" />
                    <label class="form-check-label" for="flexCheckDefault"> Identifikasi Bahaya, Penilaian dan Pengendalian Resiko (HIRARC) </label>

                    <!-- Modal HIRARC-->
                    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                      <div class="modal-dialog modal-xl">
                        <div class="modal-content">
                          <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLabel">Identifikasi Bahaya, Penilaian dan Pengendalian Resiko (HIRARC)</h5>
                            <button type="button" class="btn-close hirarc-close" data-bs-dismiss="modal" aria-label="Close"></button>
                          </div>
                          <div class="modal-body">
                            <form action="" method="post">
                              <div class="row">
                                <div class="col-8">
                                  <div class="input-group input-group-sm mb-3">
                                    <span class="input-group-text" id="inputGroup-sizing-default">Nama Unit</span>
                                    <input type="text" class="form-control" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-default" value="ULPLTD Kotamobagu" disabled />
                                  </div>
                                  <div class="input-group input-group-sm mb-3">
                                    <span class="input-group-text" id="inputGroup-sizing-default">Bidang</span>
                                    <input type="text" class="form-control" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-default" name="bidang" />
                                  </div>
                                  <div class="input-group input-group-sm mb-3">
                                    <span class="input-group-text" id="inputGroup-sizing-default">Jenis Pekerjaan</span>
                                    <input type="text" class="form-control" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-default" name="jenis_pekerjaan" disabled />
                                  </div>
                                  <div class="input-group input-group-sm mb-3">
                                    <span class="input-group-text" id="inputGroup-sizing-default">Lokasi Pekerjaan</span>
                                    <input type="text" class="form-control" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-default" name="lokasi" disabled />
                                  </div>
                                </div>
                              </div>
                              <div class="row mt-3">
                                <table class="table table-bordered">
                                  <thead class="text-center">
                                    <tr>
                                      <th scope="col">Kegiatan</th>
                                      <th scope="col">Potensi Bahaya</th>
                                      <th scope="col">Risiko</th>
                                      <th scope="col">Konsekuensi</th>
                                      <th scope="col">Kemungkinan</th>
                                      <th scope="col">Tingkat Risiko</th>
                                      <th scope="col">Pengendalian Risiko</th>
                                      <th scope="col">Konsekuensi</th>
                                      <th scope="col">Kemungkinan</th>
                                      <th scope="col">Tingkat Risiko</th>
                                      <th scope="col">Penanggung Jawab</th>
                                    </tr>
                                  </thead>
                                  <tbody>
                                    <tr>
                                      <td><input class="form-control form-control-sm" type="text" /></td>
                                      <td><input class="form-control form-control-sm" type="text" /></td>
                                      <td><input class="form-control form-control-sm" type="text" /></td>
                                      <td class="text-center"><input class="form-control form-control-sm" type="text" /></td>
                                      <td class="text-center"><input class="form-control form-control-sm" type="text" /></td>
                                      <td class="text-center"><input class="form-control form-control-sm" type="text" /></td>
                                      <td><input class="form-control form-control-sm" type="text" /></td>
                                      <td class="text-center"><input class="form-control form-control-sm" type="text" /></td>
                                      <td class="text-center"><input class="form-control form-control-sm" type="text" /></td>
                                      <td class="text-center"><input class="form-control form-control-sm" type="text" /></td>
                                      <td><input class="form-control form-control-sm" type="text" /></td>
                                    </tr>
                                  </tbody>
                                </table>
                              </div>
                            </form>
                          </div>
                          <div class="modal-footer">
                            <input type="submit" class="btn submit" value="Submit" />
                            <input type="reset" class="btn reset" value="Reset" />
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="form-check mb-3">
                    <input class="form-check-input" type="checkbox" value="Job Safety Analysis (JSA)" id="flexCheckDefault" />
                    <label class="form-check-label" for="flexCheckDefault"> Job Safety Analysis (JSA) </label>
                  </div>
                </div>
                <div class="col-6">
                  <div class="form-check mb-3">
                    <input class="form-check-input" type="checkbox" value="Prosedur Kerja" id="flexCheckDefault" />
                    <label class="form-check-label" for="flexCheckDefault"> Prosedur Kerja </label>
                  </div>
                  <div class="form-check mb-3">
                    <input class="form-check-input" type="checkbox" value="Sertifikat Kompetensi Kerja" id="flexCheckDefault" />
                    <label class="form-check-label" for="flexCheckDefault"> Sertifikat Kompetensi Kerja </label>
                  </div>
                </div>
              </div>
            </div>
            <div>
              <input type="submit" class="btn submit" value="Submit" />
              <input type="reset" class="btn reset" value="Reset" />
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
  <script>
    const otherKlasifikasi = document.querySelector(".other-klasifikasi").checked;
    const labelKlasifikasi = document.querySelector(".label-klasifikasi");
    const inKlasifikasi = document.querySelector(".klasifikasi-in");
    const otherProsedur = document.querySelector(".other-prosedur").checked;
    const labelProsedur = document.querySelector(".label-prosedur");
    const inProsedur = document.querySelector(".prosedur-in");
    const hirarcClose = document.querySelector(".hirarc-close");

    function klikKlasifikasi() {
      if (otherKlasifikasi != true) {
        inKlasifikasi.innerHTML = `<input type="text" class="form-control form-control-sm input-klasifikasi" id="flexCheckDefault" value="" />`;
        labelKlasifikasi.style.display = "none";
        document.querySelector(".input-klasifikasi").onchange = function klasifikasi() {
          document.querySelector(".other-klasifikasi").value = document.querySelector(".input-klasifikasi").value;
        };
      }
    }

    function klikProsedur() {
      if (otherProsedur != true) {
        inProsedur.innerHTML = `<input type="text" class="form-control form-control-sm input-prosedur" id="flexCheckDefault" value="" />`;
        labelProsedur.style.display = "none";
        document.querySelector(".input-prosedur").onchange = function prosedur() {
          document.querySelector(".other-prosedur").value = document.querySelector(".input-prosedur").value;
        };
      }
    }

    hirarcClose.addEventListener("click", () => {
      document.querySelector(".hirarc-check").checked = false;
    });
  </script>
</section>
{% endblock %}
